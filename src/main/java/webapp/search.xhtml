<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	<title>Hello!</title>
	<script src="http://code.jquery.com/jquery-latest.js"></script>

	<h:outputStylesheet library="css" name="bootstrap.css" />
	<h:outputScript library="js" name="bootstrap.js" />
</h:head>
<h:body>
	<h:form styleClass="search-form form-horizontal">
		<div class="container">
			<div class="row">
				<div class="span12">
					<h:messages />
					<div class="page-header">
						<h1>#{msg['page.title']}</h1>
					</div>

					<div class="tabbable">
						<ul class="nav nav-tabs">
							<li class="active"><a href="#tab1" data-toggle="tab">#{msg['page.search.simple']}</a></li>
							<li><a href="#tab2" data-toggle="tab">#{msg['page.search.advanced']}</a></li>
						</ul>
						<div class="tab-content">
							<div class="tab-pane active" id="tab1">
								<div class="input-append">
									<h:inputText binding="#{search.searchString}"
										styleClass="span4" />
									<h:commandButton action="#{search.doSearch}" styleClass="btn"
										value="#{msg['page.search.button']}" />
								</div>
							</div>
							<div class="tab-pane" id="tab2">
								<div class="row-fluid">
									<!-- left column -->
									<div class="span6">
										<div class="control-group">
											<label class="control-label" for="inputPassword">#{msg['property.jobTitle']}</label>
											<div class="controls">
												<input type="password" id="inputPassword" />
											</div>
										</div>
										<div class="control-group">
											<label class="control-label" for="inputEmail">#{msg['property.salary']}</label>
											<div class="controls">
												#{msg['common.from']}: <input type="text" id="inputEmail" /><br />
												#{msg['common.to']}:<input type="text" id="inputEmail" />
											</div>
										</div>

										<div class="control-group">
											<label class="control-label" for="inputPassword">#{msg['property.dutyType']}</label>
											<div class="controls">
												<h:selectOneMenu value="#{search.selectedDutyType}">
													<f:selectItems value="#{search.dutyTypes}" var="dt"
														itemLabel="#{dt.name}" itemValue="#{dt.id}" />
												</h:selectOneMenu>
											</div>
										</div>
										<div class="control-group">
											<label class="control-label" for="inputPassword">#{msg['property.education']}</label>
											<div class="controls">
												<h:selectOneMenu value="#{search.selectedEducation}">
													<f:selectItems value="#{search.educations}" var="edu"
														itemLabel="#{edu.name}" itemValue="#{edu.id}" />
												</h:selectOneMenu>
											</div>
										</div>
										<div class="control-group">
											<label class="control-label" for="inputPassword">#{msg['property.experience']}</label>
											<div class="controls">
												<h:selectOneMenu value="#{search.selectedExperience}">
													<f:selectItems value="#{search.experiences}" var="exp"
														itemLabel="#{exp}" itemValue="#{exp}" />
												</h:selectOneMenu>
											</div>
										</div>
										<div class="control-group">
											<label class="control-label" for="inputPassword">#{msg['property.schedule']}</label>
											<div class="controls">
												<h:selectOneMenu value="#{search.selectedSchedule}">
													<f:selectItems value="#{search.schedules}" var="schedule"
														itemLabel="#{schedule.name}" itemValue="#{schedule.id}" />
												</h:selectOneMenu>
											</div>
										</div>
										<div class="control-group">
											<label class="control-label" for="inputPassword">#{msg['property.city']}</label>
											<div class="controls">
												<h:selectOneMenu value="#{search.selectedCity}">
													<f:selectItems value="#{search.cities}" var="city"
														itemLabel="#{city.name}" itemValue="#{city.id}" />
												</h:selectOneMenu>
											</div>
										</div>
										<div class="control-group">
											<label class="control-label" for="inputPassword">#{msg['property.employer']}</label>
											<div class="controls">
												<h:selectOneMenu value="#{search.selectedEmployer}">
													<f:selectItems value="#{search.employers}" var="emp"
														itemLabel="#{emp.name}" itemValue="#{emp.id}" />
												</h:selectOneMenu>
											</div>
										</div>
									</div>
									<!-- right column -->
									<div class="span6">
										<h:selectManyCheckbox value="#{search.selectedSections}" layout="pageDirection" styleClass="table table-condensed" unselectedClass="checkbox inline" selectedClass="checkbox inline">
											<f:selectItems value="#{search.sections}" var="section"	itemLabel="#{section.name}" itemValue="#{section.id}" />
										</h:selectManyCheckbox>
									</div>

									<div class="row-fluid">
										<div class="span12">
											<div class="control-group">
												<div class="controls">
													<button type="submit" class="btn">#{msg['page.search.button']}</button>
												</div>
											</div>
										</div>
									</div>	
								</div> <!-- fluid row -->
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="divider">&nbsp;</div>
			<div class="row">
				<!-- Sidebar -->
				<div class="span5">
					<div class="well" style="padding: 8px 0;">
						<ul class="nav nav-list">
							<li class="nav-header">#{msg['page.sections.header']}</li>
							<ui:repeat value="#{search.sectionHolders}" var="sectionHolder">
								<li
									class="#{search.currentSectionId == sectionHolder.section.id ? 'active' : '' }"><h:commandLink
										action="#{search.doShowVacancies(sectionHolder.section.id,0)}"
										value="#{sectionHolder.section.name} (#{sectionHolder.vacanciesCount})" />
								</li>
							</ui:repeat>
						</ul>
					</div>
				</div>
				<!-- Content -->
				<div class="span7">
					<!-- Paginator -->
					<div class="pagination pagination-centered">
						<ul>
							<ui:repeat value="#{search.vacancyPages}" var="page">
								<li class="#{search.currentPage==page.pageNum ? 'active' : '' }">
									<h:commandLink
										action="#{search.doShowVacancies(page.sectionId,page.pageNum)}"
										value="#{page.pageNum}" />
								</li>
							</ui:repeat>
						</ul>
					</div>

					<!-- Vacancies -->

					<div>
						<ui:repeat value="#{search.currentSectionVacancies}" var="vacancy">
							<div>
								<div>
									<a href="#" data-toggle="collapse"
										data-target="#vacancy_#{vacancy.id}">
										<div class="row-fluid">
											<div class="span10">
												<h:outputText value="#{vacancy.jobTitle}" />
											</div>
											<div class="span2">
												<h:outputText value="#{vacancy.salary}" />
											</div>
										</div>
									</a>
								</div>
								<div id="vacancy_#{vacancy.id}" class="collapse out">
									<dl class="dl-horizontal">
										<dt>#{msg['property.dutyType']}</dt>
										<dd>
											<h:outputText value="#{vacancy.dutyType.name}" />
											&nbsp;
										</dd>
										<dt>#{msg['property.education']}</dt>
										<dd>
											<h:outputText value="#{vacancy.education.name}" />
											&nbsp;
										</dd>
										<dt>#{msg['property.experience']}</dt>
										<dd>
											<h:outputText value="#{vacancy.experience}" />
											&nbsp;
										</dd>
										<dt>#{msg['property.schedule']}</dt>
										<dd>
											<h:outputText value="#{vacancy.schedule.name}" />
											&nbsp;
										</dd>
										<dt>#{msg['property.city']}</dt>
										<dd>
											<h:outputText value="#{vacancy.city.name}" />
											&nbsp;
										</dd>
										<dt>#{msg['property.employer']}</dt>
										<dd>
											<h:outputText value="#{vacancy.employer.name}" />
											&nbsp;
										</dd>
										<dt>#{msg['property.date']}</dt>
										<dd>
											<h:outputText value="#{vacancy.date}" />
											&nbsp;
										</dd>
										<dt>#{msg['property.contactInformation']}</dt>
										<dd>
											<h:outputText value="#{vacancy.contactInformation}" />
											&nbsp;
										</dd>
										<dt>#{msg['property.presentedBy']}</dt>
										<dd>
											<h:outputText value="#{vacancy.presentedBy}" />
											&nbsp;
										</dd>
									</dl>
									<div>
										<h:outputText value="#{vacancy.body}" escape="false" />
									</div>
									<hr />
								</div>
							</div>
						</ui:repeat>
					</div>

				</div>
			</div>
		</div>
	</h:form>

</h:body>
</html>